<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>xml(1)</title>
<link rel="stylesheet" type="text/css" href="css/reset.css"/>
<link rel="stylesheet" type="text/css" href="css/common.css"/>
<script src="http://code.jquery.com/jquery-3.6.1.min.js"></script>
<script>
	$(function() {
		$("#mybtn").click(function() {
			$.ajax({
				url: "ajax/xml/03.xml",
				type: "get",
				dataType: "xml",
				timeout: 30000
			}).done(function(xml) {
				let title = $(xml).find("title").text();
				let time = $(xml).find("time").text();
				let teacher = $(xml).find("teacher").text();
				
				let div = $("<div>"); // div 태그 객체 생성
				let p1 = $("<p>").html(title); // 과목명이 들어간 p태그 객체 생성
				let p2 = $("<p>").html(time); // 시간표가 들어간 p태그 객체 생성
				let p3 = $("<p>").html(teacher); // 교사명이 들어간 p태그 객체 생성
				
				div.append(p1).append(p2).append(p3); // 메서드 체인 활용 => 동적 요소 결합
				$("#result").append(div);
			})
			  .fail(function(xhr, textStatus, errorThrown) {
				  $("div").html("<div>" + textStatus + "(http-" + xhr.status + " / " + errorThrown + ")</div>")
			  }); 
		}); // click end
	}); // ready end
</script>
</head>
<body>
	<h1 class="title">$.ajax() 함수를 사용한 XML 데이터 읽기(1)</h1>
	<div class="exec">
		<input type="button" value="xml 데이터 가져오기" id="mybtn"/>
	</div>
	<div class="console" id="result"></div>
</body>
</html>